# VELAS Trading System - Конфигурация
# Скопируйте этот файл в config.yaml и заполните значения

# ═══════════════════════════════════════════════════════════════
# TELEGRAM (обязательно для отправки сигналов)
# ═══════════════════════════════════════════════════════════════
telegram:
  # Получите токен у @BotFather в Telegram
  bot_token: "YOUR_TELEGRAM_BOT_TOKEN"
  
  # ID чата/канала для отправки сигналов
  # Для получения ID: добавьте бота в канал, отправьте сообщение,
  # затем откройте https://api.telegram.org/bot<TOKEN>/getUpdates
  chat_id: "-100123456789"
  
  # Настройки уведомлений
  send_signals: true      # Отправлять торговые сигналы
  send_updates: true      # Отправлять обновления позиций (TP hit, SL moved)
  send_alerts: true       # Отправлять системные алерты

# ═══════════════════════════════════════════════════════════════
# TRADING (торговые настройки)
# ═══════════════════════════════════════════════════════════════
trading:
  # Включить/выключить торговлю
  enabled: true
  
  # Максимум одновременных позиций (1-10)
  max_positions: 5
  
  # Риск на сделку в % от баланса (0.5-5.0)
  risk_percent: 2.0
  
  # Лимит portfolio heat в % (сумма всех рисков)
  portfolio_heat_limit: 15.0
  
  # Минимальная уверенность сигнала (0.0-1.0)
  min_confidence: 0.6
  
  # Время жизни сигнала в минутах (после чего отменяется)
  signal_expiry_minutes: 30
  
  # Плечо по умолчанию (Cornix настройка)
  default_leverage: 10

# ═══════════════════════════════════════════════════════════════
# PORTFOLIO (портфельные настройки)
# ═══════════════════════════════════════════════════════════════
portfolio:
  # Начальный баланс в USDT
  initial_balance: 10000.0
  
  # Лимит корреляции между парами (0.0-1.0)
  # Если две пары коррелируют выше этого значения,
  # система не откроет позицию по второй
  correlation_limit: 0.7
  
  # Максимальная просадка для автоматической паузы
  max_drawdown_percent: 15.0
  
  # Пауза после N убыточных сделок подряд
  auto_pause_loss_streak: 3

# ═══════════════════════════════════════════════════════════════
# API (настройки API сервера)
# ═══════════════════════════════════════════════════════════════
api:
  # Хост и порт для FastAPI
  host: "0.0.0.0"
  port: 8000
  
  # Включить автоперезагрузку (для разработки)
  reload: true
  
  # CORS origins (для фронтенда)
  cors_origins:
    - "http://localhost:5173"
    - "http://127.0.0.1:5173"
    - "http://localhost:3000"

# ═══════════════════════════════════════════════════════════════
# DATA (настройки данных)
# ═══════════════════════════════════════════════════════════════
data:
  # Директория для хранения свечей
  candles_dir: "data/candles"
  
  # Директория для пресетов
  presets_dir: "data/presets"
  
  # Директория для состояния
  state_dir: "data/state"
  
  # Binance настройки (публичный API, ключи НЕ нужны)
  binance:
    rest_url: "https://api.binance.com"
    ws_url: "wss://stream.binance.com:9443/ws"
    rate_limit: 1200  # запросов в минуту

# ═══════════════════════════════════════════════════════════════
# SYSTEM (системные настройки)
# ═══════════════════════════════════════════════════════════════
system:
  # Уровень логирования: DEBUG, INFO, WARNING, ERROR
  log_level: "INFO"
  
  # Директория для логов
  log_dir: "logs"
  
  # Интервал обновления данных в секундах
  data_update_interval: 5
  
  # Включить подробное логирование HTTP запросов
  debug_http: false

# ═══════════════════════════════════════════════════════════════
# ALERTS (настройки алертов)
# ═══════════════════════════════════════════════════════════════
alerts:
  # Глобальное включение алертов
  enabled: true
  
  # Порог серии убытков для алерта
  loss_streak_threshold: 3
  
  # Порог низкого WinRate для алерта
  low_winrate_threshold: 50.0
  
  # Порог высокой просадки для алерта
  high_drawdown_threshold: 10.0
